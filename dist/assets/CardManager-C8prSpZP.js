import{u as Ve,j as e,a as pt,d as $,b as ye,c as me,g as Ft,t as _,L as Lt,s as Et}from"./index-BDujGxq9.js";import{r as s,R as xt,A as qt,C as ft,X as ut,Y as ht,T as gt,a as Nt,b as rt,L as Ht,c as Mt,d as Vt}from"./vendor-charts-mg27ZyhM.js";import{h as ae,x as Me,q as We,l as bt,o as yt,w as xe,m as ze,y as mt,k as Q,u as Ce,j as Kt,z as jt,A as st,B as Ot,F as Z,H as Yt,I as Qt,J as _t,K as Zt}from"./vendor-firebase-DLt0hQgB.js";import"./vendor-react-Bzgz95E1.js";function lt({onImportComplete:l}){const d=s.useRef(null),b=Ve(),[n,N]=s.useState(()=>window.innerWidth>=768);s.useEffect(()=>{const j=()=>N(window.innerWidth>=768);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const m=async j=>{const S=j.replace(/^\uFEFF/,"").split(/\r?\n/).map(p=>p.trim()).filter(Boolean);if(!S.length)throw new Error("Pr√°zdny s√∫bor");const z=j.includes(";")?";":",",T=/^polo≈æka$/i.test(S[0])?1:0,W=[];for(let p=T;p<S.length;p++){const h=S[p].split(z)[0].replace(/^"|"$/g,"").trim();h&&h.length>0&&W.push(h)}return W},B=async j=>{const S=j.target.files?.[0];if(S)try{const z=await S.text(),H=await m(z);if(H.length===0){b.warning("V s√∫bore neboli n√°jden√© ≈æiadne polo≈æky.");return}const T=pt.currentUser;if(!T){b.error("Mus√≠≈° by≈• prihl√°sen√Ω!");return}let W=0;const p=ae($,"cards");for(const R of H)await Me(p,{userId:T.uid,item:R,buy:null,current:null,status:"zbierka",quantity:1,isPublic:!1,note:"",imageUrl:null,imageName:null,createdAt:new Date}),W++;b.success(`Import hotov√Ω! Pridan√Ωch polo≈æiek: ${W}`),l&&l()}catch(z){console.error("Chyba pri importe:",z),b.error("Chyba pri importe: "+z.message)}finally{j.target.value=""}};return e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px 16px",minHeight:"44px",height:"100%",width:"100%",boxSizing:"border-box",backgroundColor:"#f3e8ff",color:"#6b21a8",border:"1px solid #e9d5ff",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s",whiteSpace:"normal"},onMouseOver:j=>j.currentTarget.style.backgroundColor="#e9d5ff",onMouseOut:j=>j.currentTarget.style.backgroundColor="#f3e8ff",children:["üìä ",n&&e.jsx("span",{children:"Import z "}),"CSV",e.jsx("input",{ref:d,type:"file",accept:".csv,text/csv",onChange:B,style:{display:"none"}})]})}function Xt({user:l,darkMode:d,onClose:b,isMockAuth:n=!1,mockNotifications:N=[]}){const m=Ve(),{formatCurrency:B}=ye(),{language:j}=me(),[S,z]=s.useState([]),[H,T]=s.useState(0);s.useEffect(()=>{if(n){z(N),T(N.length);return}if(!l)return;const i=We(ae($,"notifications"),xe("userId","==",l.uid),xe("read","==",!1),yt("createdAt","desc"),bt(10)),g=ze(i,K=>{const L=K.docs.map(v=>({id:v.id,...v.data()}));z(L),T(L.length)});return()=>g()},[l]);const W=async i=>{try{await Ce(Q($,"notifications",i),{read:!0})}catch(g){console.error("Error marking notification as read:",g)}},p=async()=>{try{const i=mt($);S.forEach(g=>{i.update(Q($,"notifications",g.id),{read:!0})}),await i.commit()}catch(i){console.error("Error marking all as read:",i)}},R=i=>{if(!i)return"";const g=i.toDate(),L=new Date-g,v=Math.floor(L/6e4),ie=Math.floor(L/36e5),x=Math.floor(L/864e5);return v<1?"Teraz":v<60?`pred ${v} min`:ie<24?`pred ${ie} h`:x<7?`pred ${x} d≈àami`:g.toLocaleDateString("sk-SK")},h=async i=>{await W(i.id),i.actionType==="view_log"&&(console.log("View log:",i.actionData),m.info(`Update detail:
‚úÖ √öspe≈°ne: ${i.actionData.successCount}
‚ùå Ne√∫spe≈°ne: ${i.actionData.failCount}
üí∞ Celkov√° hodnota: ${B(i.actionData.totalValue,j)}`,8e3))};return e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"100%",maxWidth:"400px",height:"100vh",background:d?"#1e293b":"white",boxShadow:"-4px 0 20px rgba(0,0,0,0.2)",zIndex:9999,overflowY:"auto",padding:"20px",paddingTop:"max(20px, env(safe-area-inset-top, 20px))",paddingBottom:"max(20px, env(safe-area-inset-bottom, 20px))",paddingRight:"max(20px, env(safe-area-inset-right, 20px))",animation:"slideInRight 0.3s ease-out"},children:[e.jsx("style",{children:`
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
            }
            to {
              transform: translateX(0);
            }
          }
        `}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:`2px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold"},children:"üîî Notifik√°cie"}),H>0&&e.jsxs("span",{style:{fontSize:"13px",color:"#64748b"},children:[H," ",H===1?"nov√°":"nov√©"]})]}),e.jsx("button",{onClick:b,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px 8px",color:d?"#f8fafc":"#0f172a"},children:"‚úï"})]}),S.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#64748b"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üì≠"}),e.jsx("p",{style:{margin:0},children:"≈Ωiadne nov√© notifik√°cie"})]}):e.jsxs(e.Fragment,{children:[S.map(i=>e.jsx("div",{style:{padding:"16px",background:d?"#334155":"#f8fafc",borderRadius:"12px",marginBottom:"12px",cursor:"pointer",border:`2px solid ${d?"#475569":"#e2e8f0"}`,transition:"all 0.2s"},onClick:()=>h(i),onMouseEnter:g=>{g.currentTarget.style.borderColor="#667eea",g.currentTarget.style.transform="translateX(-4px)"},onMouseLeave:g=>{g.currentTarget.style.borderColor=d?"#475569":"#e2e8f0",g.currentTarget.style.transform="translateX(0)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"24px",flexShrink:0},children:[i.type==="price_update_complete"&&"‚úÖ",i.type==="price_update_failed"&&"‚ùå",i.type==="system"&&"‚ÑπÔ∏è"]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",fontSize:"15px"},children:i.title}),e.jsx("div",{style:{fontSize:"14px",color:d?"#cbd5e1":"#64748b",lineHeight:"1.5"},children:i.message}),e.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"8px"},children:R(i.createdAt)})]})]})},i.id)),S.length>0&&e.jsx("button",{onClick:p,style:{width:"100%",padding:"12px",marginTop:"16px",background:d?"#334155":"#f3f4f6",color:d?"#f8fafc":"#0f172a",border:`1px solid ${d?"#475569":"#d1d5db"}`,borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},onMouseEnter:i=>{i.target.style.background=d?"#475569":"#e5e7eb"},onMouseLeave:i=>{i.target.style.background=d?"#334155":"#f3f4f6"},children:"Oznaƒçi≈• v≈°etky ako preƒç√≠tan√©"})]})]})}const He=[{key:"1Y",label:"1 rok",months:12},{key:"2Y",label:"2 roky",months:24},{key:"5Y",label:"5 rokov",months:60},{key:"10Y",label:"10 rokov",months:120},{key:"ALL",label:"V≈°etko",months:null}];function Gt({user:l,darkMode:d=!1,isMockAuth:b=!1}){const[n,N]=s.useState([]),[m,B]=s.useState(!0),[j,S]=s.useState("ALL"),[z,H]=s.useState([]),{formatCurrency:T,formatCurrencyCompact:W}=ye(),{language:p}=me();s.useEffect(()=>{if(b){const P=new Date,w=[{date:new Date(P.getFullYear(),0,15),hodnota:120,pocetPoloziek:2},{date:new Date(P.getFullYear(),1,15),hodnota:150,pocetPoloziek:3},{date:new Date(P.getFullYear(),2,15),hodnota:180,pocetPoloziek:3},{date:new Date(P.getFullYear(),3,15),hodnota:210,pocetPoloziek:4}];N(w),H([{id:"mock-1",status:"zbierka",buy:180,current:320,quantity:2},{id:"mock-2",status:"zbierka",buy:25,current:40,quantity:1},{id:"mock-3",status:"predan√°",buy:210,soldPrice:295,quantity:1},{id:"mock-4",status:"zbierka",buy:8,current:12,quantity:3}]),B(!1);return}if(!l)return;(async()=>{B(!0);try{const P=ae($,"cards"),w=We(P,xe("userId","==",l.uid)),X=(await Kt(w)).docs.map(f=>({id:f.id,...f.data()}));H(X);const Y=[];X.forEach(f=>{const u=f.quantity||1;if(f.createdAt){const k=f.createdAt.toDate?f.createdAt.toDate():new Date(f.createdAt);Y.push({date:k,cardId:f.id,type:"purchase",price:(f.buy||0)*u,cardName:f.item})}if(f.priceHistory&&f.priceHistory.length>0&&f.priceHistory.forEach(k=>{const V=k.date?.toDate?k.date.toDate():new Date(k.date);Y.push({date:V,cardId:f.id,type:"priceUpdate",price:k.price*u,cardName:f.item})}),f.status==="predan√°"&&f.soldAt){const k=f.soldAt.toDate?f.soldAt.toDate():new Date(f.soldAt);Y.push({date:k,cardId:f.id,type:"sale",price:(f.soldPrice||f.current||0)*u,cardName:f.item})}}),Y.sort((f,u)=>f.date-u.date);const F=new Map,ne=[],M=new Map;Y.forEach(f=>{const u=f.date.toISOString().split("T")[0];M.has(u)||M.set(u,{date:f.date,events:[]}),M.get(u).events.push(f)}),M.forEach((f,u)=>{const k=[],V=[];f.events.forEach(E=>{if(E.type==="purchase")F.set(E.cardId,{price:E.price,sold:!1}),k.push(E.cardName);else if(E.type==="priceUpdate"){if(F.has(E.cardId)){const a=F.get(E.cardId);a.sold||(a.price=E.price)}}else E.type==="sale"&&(F.has(E.cardId)&&(F.get(E.cardId).sold=!0),V.push(E.cardName))});let ue=0,y=0;F.forEach(E=>{E.sold||(ue+=E.price,y++)}),ne.push({date:f.date,dateKey:u,hodnota:parseFloat(ue.toFixed(2)),pocetPoloziek:y,purchases:k.length>0?k:null,sales:V.length>0?V:null,hasPurchase:k.length>0,hasSale:V.length>0})}),N(ne)}catch(P){console.error("Error loading portfolio history:",P)}finally{B(!1)}})()},[l]);const R=s.useMemo(()=>{if(n.length===0)return[];const x=He.find(w=>w.key===j);if(!x||x.months===null)return n;const P=new Date;return P.setMonth(P.getMonth()-x.months),n.filter(w=>w.date>=P)},[n,j]),h=s.useMemo(()=>R.map(x=>({...x,dateFormatted:x.date.toLocaleDateString("sk-SK",{day:"2-digit",month:"short",year:"numeric"}),timestamp:x.date.getTime()})),[R]),i=s.useMemo(()=>{if(h.length===0)return{currentValue:0,initialValue:0,change:0,changePercent:0,cardCount:0,totalInvested:0,totalSold:0,realizedProfit:0};const x=h[0],P=h[h.length-1],w=P.hodnota-x.hodnota,fe=x.hodnota>0?w/x.hodnota*100:0,X=z.filter(u=>u.status==="zbierka"),Y=z.filter(u=>u.status==="predan√°"),F=z.reduce((u,k)=>u+(parseFloat(k.buy)||0)*(k.quantity||1),0),ne=Y.reduce((u,k)=>u+(parseFloat(k.soldPrice)||0)*(k.quantity||1),0),M=Y.reduce((u,k)=>u+(parseFloat(k.buy)||0)*(k.quantity||1),0),f=ne-M;return{currentValue:P.hodnota,initialValue:x.hodnota,change:w,changePercent:fe,cardCount:X.reduce((u,k)=>u+(k.quantity||1),0),totalInvested:F,totalSold:ne,realizedProfit:f,soldCount:Y.reduce((u,k)=>u+(k.quantity||1),0)}},[h,z]);if(m)return e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",background:d?"#1e293b":"#f8fafc",borderRadius:"12px",border:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsx("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"‚è≥"}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:d?"#94a3b8":"#64748b"},children:"Naƒç√≠tavam hist√≥riu portf√≥lia..."})]});if(h.length===0)return e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:d?"#94a3b8":"#64748b",background:d?"#1e293b":"#f8fafc",borderRadius:"12px",border:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üìà"}),e.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"500"},children:"≈Ωiadne historick√© d√°ta"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#94a3b8"},children:"Pridaj karty do zbierky a sleduj v√Ωvoj hodnoty portf√≥lia"})]});const g=i.change>=0,K=g?"#10b981":"#ef4444",L=d?"#334155":"#e2e8f0",v=d?"#cbd5e1":"#475569",ie=({active:x,payload:P})=>{if(!x||!P||!P.length)return null;const w=P[0].payload;return e.jsxs("div",{style:{background:d?"#334155":"white",border:`1px solid ${d?"#475569":"#e2e8f0"}`,borderRadius:"8px",padding:"12px",fontSize:"13px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:v},children:w.dateFormatted}),e.jsx("div",{style:{color:d?"#f8fafc":"#0f172a",fontWeight:"600",fontSize:"16px"},children:T(w.hodnota,p)}),e.jsxs("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"4px"},children:[w.pocetPoloziek," polo≈æiek v zbierke"]}),w.purchases&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:`1px solid ${L}`},children:[e.jsx("span",{style:{color:"#10b981"},children:"+ N√°kup:"}),e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8"},children:[w.purchases.slice(0,2).join(", "),w.purchases.length>2&&` +${w.purchases.length-2} ƒèal≈°√≠ch`]})]}),w.sales&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:`1px solid ${L}`},children:[e.jsx("span",{style:{color:"#ef4444"},children:"‚àí Predaj:"}),e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8"},children:[w.sales.slice(0,2).join(", "),w.sales.length>2&&` +${w.sales.length-2} ƒèal≈°√≠ch`]})]})]})};return e.jsxs("div",{style:{background:d?"#1e293b":"white",borderRadius:"12px",padding:"20px",border:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{style:{marginBottom:"20px",paddingBottom:"16px",borderBottom:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px",marginBottom:"16px"},children:[e.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"üìä Investiƒçn√© portf√≥lio"}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:He.map(x=>e.jsx("button",{onClick:()=>S(x.key),style:{padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s",background:j===x.key?"#667eea":d?"#334155":"#f1f5f9",color:j===x.key?"white":d?"#94a3b8":"#64748b"},children:x.label},x.key))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Hodnota zbierky"}),e.jsx("div",{style:{fontSize:"22px",fontWeight:"bold",color:d?"#f8fafc":"#0f172a"},children:T(i.currentValue,p)})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:["Zmena (",He.find(x=>x.key===j)?.label,")"]}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:g?"#10b981":"#ef4444"},children:[g?"+":"",T(i.change,p),e.jsxs("span",{style:{fontSize:"12px",marginLeft:"4px"},children:["(",g?"+":"",i.changePercent.toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"V zbierke"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"600",color:"#667eea"},children:[i.cardCount," ks"]})]}),i.soldCount>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Realizovan√Ω zisk"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:"600",color:i.realizedProfit>=0?"#10b981":"#ef4444"},children:[i.realizedProfit>=0?"+":"",T(i.realizedProfit,p)]})]})]})]}),e.jsx(xt,{width:"100%",height:300,children:e.jsxs(qt,{data:h,margin:{top:10,right:20,left:0,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:K,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:K,stopOpacity:0})]})}),e.jsx(ft,{strokeDasharray:"3 3",stroke:L}),e.jsx(ut,{dataKey:"dateFormatted",stroke:v,style:{fontSize:"10px"},tick:{fill:v},interval:"preserveStartEnd"}),e.jsx(ht,{stroke:v,style:{fontSize:"11px"},tick:{fill:v},tickFormatter:x=>W(x,p)}),e.jsx(gt,{content:e.jsx(ie,{})}),e.jsx(Nt,{type:"monotone",dataKey:"hodnota",stroke:K,strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)"}),h.filter(x=>x.hasPurchase).map((x,P)=>e.jsx(rt,{x:x.dateFormatted,y:x.hodnota,r:5,fill:"#10b981",stroke:"white",strokeWidth:2},`purchase-${P}`)),h.filter(x=>x.hasSale).map((x,P)=>e.jsx(rt,{x:x.dateFormatted,y:x.hodnota,r:5,fill:"#ef4444",stroke:"white",strokeWidth:2},`sale-${P}`))]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"12px",fontSize:"12px",color:"#94a3b8"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#10b981"}}),"N√°kup"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#ef4444"}}),"Predaj"]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"12px",marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Celkom investovan√©"}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:T(i.totalInvested,p)})]}),i.soldCount>0&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:["Predan√© (",i.soldCount," ks)"]}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:T(i.totalSold,p)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Priem. cena karty"}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:T(i.cardCount>0?i.currentValue/i.cardCount:0,p)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Z√°znamov"}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:h.length})]})]})]})}function dt({priceHistory:l=[],darkMode:d=!1}){const{t:b,language:n}=me(),{currency:N,formatCurrency:m,formatCurrencyCompact:B}=ye();if(!l||l.length===0)return e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:d?"#94a3b8":"#64748b",background:d?"#1e293b":"#f8fafc",borderRadius:"12px",border:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsx("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"üìä"}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:b("chart.noData")}),e.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#94a3b8"},children:b("chart.noDataHint")})]});const j=n==="en"?"en-GB":n==="cz"?"cs-CZ":"sk-SK",S=l.map(g=>{const K=g.date?.toDate?g.date.toDate():new Date(g.date);return{date:K.toLocaleDateString(j,{day:"2-digit",month:"short",year:"numeric"}),cena:g.price,timestamp:K.getTime()}}).sort((g,K)=>g.timestamp-K.timestamp),z=S[0]?.cena||0,T=(S[S.length-1]?.cena||0)-z,W=z>0?(T/z*100).toFixed(1):0,p=T>=0,R=p?"#10b981":"#ef4444",h=d?"#334155":"#e2e8f0",i=d?"#cbd5e1":"#475569";return e.jsxs("div",{style:{background:d?"#1e293b":"white",borderRadius:"12px",padding:"20px",border:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"600"},children:b("chart.title")}),e.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8"},children:[S.length," ",b("chart.records")]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:p?"#10b981":"#ef4444",marginBottom:"4px"},children:[p?"+":"",m(T,n)]}),e.jsxs("div",{style:{fontSize:"13px",color:p?"#10b981":"#ef4444",fontWeight:"500"},children:[p?"+":"",W,"%"]})]})]}),e.jsx(xt,{width:"100%",height:250,children:e.jsxs(Ht,{data:S,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(ft,{strokeDasharray:"3 3",stroke:h}),e.jsx(ut,{dataKey:"date",stroke:i,style:{fontSize:"11px"},tick:{fill:i}}),e.jsx(ht,{stroke:i,style:{fontSize:"11px"},tick:{fill:i},tickFormatter:g=>B(g,n)}),e.jsx(gt,{contentStyle:{background:d?"#334155":"white",border:`1px solid ${d?"#475569":"#e2e8f0"}`,borderRadius:"8px",fontSize:"13px"},labelStyle:{color:i,fontWeight:"600"},formatter:g=>[m(g,n),b("chart.price")]}),e.jsx(Mt,{wrapperStyle:{fontSize:"12px"},iconType:"line"}),e.jsx(Vt,{type:"monotone",dataKey:"cena",stroke:R,strokeWidth:2,dot:{fill:R,r:4},activeDot:{r:6},name:`${b("chart.priceLabel")} (${N})`})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${d?"#334155":"#e2e8f0"}`},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Minimum"}),e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ef4444"},children:m(Math.min(...S.map(g=>g.cena)),n)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"4px"},children:"Maximum"}),e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#10b981"},children:m(Math.max(...S.map(g=>g.cena)),n)})]})]})]})}function Jt({user:l,isOpen:d,onClose:b,onUpdate:n,isMockAuth:N=!1}){const[m,B]=s.useState(l.displayName||""),[j,S]=s.useState(l.photoURL||""),[z,H]=s.useState(!1),[T,W]=s.useState(null),p=Ft(),R=async()=>{if(!m.trim()){W(_("profile.error.empty",p));return}const h=j.trim();if(h&&h.toLowerCase().startsWith("data:")){W(p==="en"?"Avatar must be a public URL (https://...), data URLs are not allowed.":p==="cz"?"Avatar mus√≠ b√Ωt ve≈ôejn√° URL (https://...), data URL nejsou povoleny.":"Avatar mus√≠ by≈• verejn√° URL (https://...), data URL nie s√∫ povolen√©.");return}if(h&&h.length>500){W(p==="en"?"Avatar URL is too long (max 500 characters).":"URL avatara je pr√≠li≈° dlh√° (max 500 znakov).");return}if(N){n({displayName:m.trim(),photoURL:j.trim()}),b();return}H(!0),W(null);try{const i=Q($,"users",l.uid);await jt(i,{displayName:m.trim(),photoURL:h||null,email:l.email,updatedAt:new Date,createdAt:new Date},{merge:!0}),console.log("Profile saved successfully"),n({displayName:m.trim(),photoURL:h}),b()}catch(i){console.error("Error saving profile:",i),W(`${p==="en"?"Failed to save profile":p==="cz"?"Nepoda≈ôilo se ulo≈æit profil":"Nepodarilo sa ulo≈æi≈• profil"}: ${i.message}`)}finally{H(!1)}};return d?e.jsx("div",{style:I.overlay,onClick:b,children:e.jsxs("div",{style:I.modal,onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{style:I.header,children:[e.jsxs("h2",{style:I.title,children:["‚úèÔ∏è ",_("profile.title",p)]}),e.jsx("button",{onClick:b,style:I.closeButton,children:"‚úï"})]}),e.jsxs("div",{style:I.content,children:[e.jsxs("div",{style:I.field,children:[e.jsxs("label",{style:I.label,children:[_("profile.name",p)," ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"text",value:m,onChange:h=>B(h.target.value),placeholder:p==="en"?"Enter name":p==="cz"?"Zadejte jm√©no":"Zadaj meno",style:I.input,maxLength:50}),e.jsx("div",{style:I.hint,children:_("profile.name.hint",p)})]}),e.jsxs("div",{style:I.field,children:[e.jsx("label",{style:I.label,children:_("profile.photo",p)}),e.jsx("input",{type:"url",value:j,onChange:h=>S(h.target.value),placeholder:"https://example.com/avatar.jpg",style:I.input}),e.jsx("div",{style:I.hint,children:_("profile.photo.hint",p)})]}),(m||j)&&e.jsxs("div",{style:I.preview,children:[e.jsx("div",{style:I.previewLabel,children:_("profile.preview",p)}),e.jsxs("div",{style:I.previewCard,children:[e.jsxs("div",{style:I.avatar,children:[j?e.jsx("img",{src:j,alt:m,style:I.avatarImage,onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{style:{...I.avatarPlaceholder,display:j?"none":"flex"},children:m.charAt(0).toUpperCase()})]}),e.jsx("div",{style:I.previewName,children:m||"Anonym"})]})]}),T&&e.jsxs("div",{style:I.error,children:["‚ùå ",T]})]}),e.jsxs("div",{style:I.footer,children:[e.jsx("button",{onClick:b,style:I.cancelButton,disabled:z,children:_("profile.cancel",p)}),e.jsx("button",{onClick:R,style:I.saveButton,disabled:z,children:z?`‚è≥ ${_("profile.saving",p)}`:`üíæ ${_("profile.save",p)}`})]})]})}):null}const I={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},modal:{background:"white",borderRadius:"16px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 24px",borderBottom:"1px solid #e2e8f0"},title:{margin:0,fontSize:"20px",fontWeight:"700",color:"#0f172a"},closeButton:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b",padding:"4px 8px",borderRadius:"4px",transition:"all 0.2s"},content:{padding:"24px"},field:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#0f172a",marginBottom:"8px"},input:{width:"100%",padding:"12px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.2s",boxSizing:"border-box"},hint:{fontSize:"12px",color:"#64748b",marginTop:"6px"},preview:{marginTop:"24px",padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},previewLabel:{fontSize:"12px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px"},previewCard:{display:"flex",alignItems:"center",gap:"12px"},avatar:{width:"50px",height:"50px",borderRadius:"50%",overflow:"hidden",border:"2px solid #e2e8f0",position:"relative"},avatarImage:{width:"100%",height:"100%",objectFit:"cover"},avatarPlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"20px",fontWeight:"700"},previewName:{fontSize:"16px",fontWeight:"600",color:"#0f172a"},error:{padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"8px",fontSize:"14px",marginTop:"16px"},footer:{display:"flex",gap:"12px",padding:"20px 24px",borderTop:"1px solid #e2e8f0"},cancelButton:{flex:1,padding:"12px 24px",background:"#f1f5f9",color:"#475569",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},saveButton:{flex:1,padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"}};function ei({darkMode:l,isDesktop:d}){const{currency:b,setCurrency:n}=ye(),{t:N}=me(),m=[{code:"EUR",label:d?"EUR ‚Ç¨":"‚Ç¨"},{code:"USD",label:d?"USD $":"$"},{code:"CZK",label:d?"CZK Kƒç":"Kƒç"}];return e.jsx("div",{style:ct.container,children:e.jsx("select",{value:b,onChange:B=>n(B.target.value),style:{...ct.select,background:l?"#334155":"white",color:l?"white":"#0f172a",borderColor:l?"#475569":"#e2e8f0",width:d?"74px":"44px",paddingRight:"6px"},title:N("currency.switcher"),children:m.map(B=>e.jsx("option",{value:B.code,children:B.label},B.code))})})}const ct={container:{display:"inline-block"},select:{padding:"8px 10px",borderRadius:"8px",border:"1px solid",fontSize:"12px",fontFamily:"inherit",cursor:"pointer",transition:"all 0.2s",minWidth:"44px",height:"44px"}};function si({user:l}){const b=Ve(),{t:n,language:N}=me(),{currency:m,formatCurrency:B,formatCurrencyCompact:j,convertFromEur:S,convertToEur:z}=ye(),H=[{id:"mock-notif-1",type:"system",title:"Mock notifik√°cia",message:"Testovac√≠ z√°znam.",createdAt:{toDate:()=>new Date(Date.now()-1e3*60*60)}}],T=()=>`mock-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,[W,p]=s.useState([]),[R,h]=s.useState([]),[i,g]=s.useState(()=>localStorage.getItem("darkMode")==="true"),[K,L]=s.useState(!1),[v,ie]=s.useState(null),[x,P]=s.useState(""),[w,fe]=s.useState("zbierka"),[X,Y]=s.useState("all"),[F,ne]=s.useState("item"),[M,f]=s.useState("asc"),[u,k]=s.useState(()=>new Set),[V,ue]=s.useState(()=>window.innerWidth>=768?"table":"list"),[y,E]=s.useState(()=>window.innerWidth>=768),[a,O]=s.useState({item:"",buy:"",current:"",status:"zbierka",note:"",imageFile:null,imageUrl:"",soldPrice:"",quantity:"1",isPublic:!1}),[vt,Ke]=s.useState(!1),[Pe,kt]=s.useState(0),[G,Oe]=s.useState(!1),[he,St]=s.useState(null),[Ye,Re]=s.useState(!1),[wt,ge]=s.useState(!1),[D,Qe]=s.useState(null),[re,Ie]=s.useState(""),[Ae,Te]=s.useState("1"),[_e,je]=s.useState(null),[zt,be]=s.useState(!1),[te,Ze]=s.useState(null),[se,Xe]=s.useState({displayName:l.displayName,photoURL:l.photoURL}),[Ct,Ge]=s.useState("standard"),De=typeof window<"u"&&window.location.hostname.includes("your-card-collection-2026-test")&&["miroslav.svajda@gmail.com"].includes(l?.email||""),[ve,Wt]=s.useState(!0),[Ue,Pt]=s.useState(!0);s.useEffect(()=>{localStorage.setItem("darkMode",i)},[i]),s.useEffect(()=>{const t=()=>{const o=window.innerWidth>=768;E(o)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),s.useEffect(()=>{if(!l)return;(async()=>{try{const o=await st(Q($,"users",l.uid));if(o.exists()){const r=o.data();Ge(De?"admin":r.role||"standard")}}catch(o){console.error("Error loading user data:",o)}})()},[l]),s.useEffect(()=>{if(!l)return;const t=We(ae($,"cards"),xe("userId","==",l.uid)),o=ze(t,r=>{const C=r.docs.map(q=>({id:q.id,...q.data()}));p(C)});return()=>o()},[l]),s.useEffect(()=>{},[!1]),s.useEffect(()=>{if(!l)return;const t=We(ae($,"notifications"),xe("userId","==",l.uid),xe("read","==",!1),yt("createdAt","desc"),bt(10)),o=ze(t,r=>{kt(r.size)});return()=>o()},[l]),s.useEffect(()=>{if(!l)return;(async()=>{const C=Q($,"users",l.uid);(await st(C)).exists()||(console.log("Creating user document for:",l.uid),await jt(C,{email:l.email,displayName:l.displayName||l.email?.split("@")[0]||"Anonym",photoURL:l.photoURL||null,pricingMode:"text",createdAt:new Date,updatedAt:new Date}))})();const o=Q($,"users",l.uid),r=ze(o,C=>{if(C.exists()){const q=C.data();Ge(De?"admin":q.role||"standard"),Xe({displayName:q.displayName||l.displayName||l.email?.split("@")[0]||"Profil",photoURL:q.photoURL||l.photoURL||null})}});return()=>r()},[l]),s.useEffect(()=>{let t=W;if(x){const r=x.toLowerCase();t=t.filter(C=>(C.item||"").toLowerCase().includes(r)||(C.note||"").toLowerCase().includes(r)||(C.status||"").toLowerCase().includes(r))}w!=="all"&&(t=t.filter(r=>r.status===w)),X==="photo"&&(t=t.filter(r=>{const C=r.imageUrl;return typeof C=="string"?C.trim().length>0:!!C}));const o=[...t].sort((r,C)=>{const q=M==="asc"?1:-1;if(F==="item")return q*String(r.item||"").localeCompare(String(C.item||""));const J=ee=>{const Ne=ee.quantity||1;return F==="buy"?(parseFloat(ee.buy)||0)*Ne:F==="current"?(parseFloat(ee.current)||0)*Ne:F==="sold"?(parseFloat(ee.soldPrice)||0)*Ne:0};return q*(J(r)-J(C))});h(o)},[W,x,w,X,F,M]);const $e=W.filter(t=>t.status==="zbierka"),Be=W.filter(t=>t.status==="predan√°"),le=t=>t.quantity||1,Rt=$e.reduce((t,o)=>t+(parseFloat(o.buy)||0)*le(o),0),Fe=$e.reduce((t,o)=>t+(parseFloat(o.current)||0)*le(o),0),de=Fe-Rt,ce=Be.reduce((t,o)=>t+(parseFloat(o.soldPrice)||0)*le(o),0)-Be.reduce((t,o)=>t+(parseFloat(o.buy)||0)*le(o),0),Je=$e.reduce((t,o)=>t+le(o),0),et=Be.reduce((t,o)=>t+le(o),0),U=(t,o={})=>B(t,N,o),A=y?"130px":"120px",It=async()=>{try{await Ot(pt)}catch(t){b.error("Chyba pri odhl√°sen√≠: "+t.message)}},Le=t=>{if(t==null||t==="")return"";const o=S(parseFloat(t));return Number.isFinite(o)?String(Math.round(o*100)/100):""},tt=()=>{ie(null),O({item:"",buy:"",current:"",status:"zbierka",note:"",imageFile:null,imageUrl:"",soldPrice:"",quantity:"1",isPublic:!1,autoUpdate:!0,ebayCategory:""}),L(!0)},ke=t=>{ie(t),O({item:t.item||"",buy:Le(t.buy),current:Le(t.current),status:t.status||"zbierka",note:t.note||"",imageFile:null,imageUrl:t.imageUrl||"",soldPrice:Le(t.soldPrice),quantity:String(t.quantity||1),isPublic:!!t.isPublic,autoUpdate:t.autoUpdate!==!1,ebayCategory:t.ebayCategory||""}),L(!0)},At=async t=>{if(t.preventDefault(),!a.item.trim()){b.warning('Vypl≈à aspo≈à pole "Polo≈æka"');return}try{const o=Math.max(1,parseInt(a.quantity,10)||1),r=J=>{const ee=parseFloat(J);return Number.isFinite(ee)?z(ee):null};let C=a.imageUrl;if(a.imageFile){const J=Yt(Et,`cards/${l.uid}/${Date.now()}_${a.imageFile.name}`);await Qt(J,a.imageFile),C=await _t(J)}const q={item:a.item.trim(),buy:a.buy?r(a.buy):null,current:a.current?r(a.current):null,status:a.status,note:a.note.trim(),imageUrl:C,userId:l.uid,quantity:o,isPublic:!!a.isPublic,autoUpdate:!!a.autoUpdate,ebayCategory:a.ebayCategory||null,updatedAt:Z()};if(a.status==="predan√°"){const J=v&&v.status==="zbierka",ee=!v&&a.status==="predan√°";(J||ee||!v?.soldAt)&&(q.soldAt=Z()),q.soldPrice=a.soldPrice?r(a.soldPrice):a.current?r(a.current):null}else v&&v.status==="predan√°"&&(q.soldAt=null,q.soldPrice=null);v?await Ce(Q($,"cards",v.id),q):await Me(ae($,"cards"),{...q,createdAt:Z()}),L(!1)}catch(o){b.error("Chyba pri ukladan√≠: "+o.message)}},Ee=t=>{Ze(t),be(!0)},Tt=async()=>{if(te)try{await Zt(Q($,"cards",te.id)),b.success("Karta bola zmazan√°"),be(!1),Ze(null)}catch(t){b.error("Chyba pri mazan√≠: "+t.message)}},qe=t=>{Qe(t),Ie(t.current!=null?String(Math.round(S(t.current)*100)/100):""),Te(String(t.quantity||1)),ge(!0)},Dt=async()=>{if(!D)return;const t=Math.max(1,parseInt(Ae,10)||1),o=D.quantity||1;if(t>o){b.warning(`Maxim√°lny poƒçet kusov na predaj je ${o}`);return}const r=re?z(parseFloat(re)):D.current||0;try{if(t<o){const C=o-t;await Ce(Q($,"cards",D.id),{quantity:C,updatedAt:Z()}),await Me(ae($,"cards"),{userId:D.userId,item:D.item,buy:D.buy||null,current:D.current||null,status:"predan√°",soldPrice:r,soldAt:Z(),note:D.note||"",imageUrl:D.imageUrl||null,quantity:t,isPublic:!!D.isPublic,createdAt:Z(),updatedAt:Z()})}else await Ce(Q($,"cards",D.id),{status:"predan√°",soldPrice:r,soldAt:Z(),updatedAt:Z()});b.success(`Karta predan√° za ${U(r)} (${t}x)`),ge(!1),Qe(null),Ie(""),Te("1")}catch(C){b.error("Chyba pri predaji: "+C.message)}},it=t=>{const o=t.target.files?.[0];o&&O({...a,imageFile:o})},Se=t=>{k(o=>{const r=new Set(o);return r.has(t)?r.delete(t):r.add(t),r})},nt=()=>{k(t=>t.size===R.length&&R.length>0?new Set:new Set(R.map(o=>o.id)))},Ut=()=>k(new Set),ot=async({isPublic:t})=>{if(u.size===0)return;const o={};if(typeof t=="boolean"&&(o.isPublic=t),!!Object.keys(o).length)try{const r=mt($);u.forEach(C=>{r.update(Q($,"cards",C),{...o,updatedAt:Z()})}),await r.commit(),b.success(`Upraven√© polo≈æky: ${u.size}`),Ut()}catch(r){b.error("Chyba pri hromadnej √∫prave: "+r.message)}},c={container:{fontFamily:"system-ui, -apple-system, Arial",padding:y?"24px":"12px",backgroundColor:i?"#0f172a":"#f8fafc",color:i?"#f8fafc":"#0f172a",minHeight:"100vh",transition:"all 0.3s"},button:{padding:"10px 16px",minHeight:"44px",borderRadius:"12px",border:"1px solid #cbd5e1",background:"#fff",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:"500"},primaryButton:{background:"#1d4ed8",color:"#fff",borderColor:"#1d4ed8"}},pe=parseFloat(re)||0,at=Math.max(1,parseInt(Ae,10)||1),oe=D?S(D.buy||0):0,$t=(pe-oe)*at,Bt=oe>0?((pe-oe)/oe*100).toFixed(1):"0.0",we=t=>{F===t?f(M==="asc"?"desc":"asc"):(ne(t),f("asc"))};return e.jsxs("div",{style:c.container,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("h1",{style:{margin:0,fontSize:y?"26px":"20px",flexBasis:y?"auto":"100%"},children:["üéØ ",n("manager.title")]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[y?e.jsxs("button",{onClick:()=>Re(!0),style:{...c.button,padding:"8px 12px",display:"flex",alignItems:"center",gap:"6px",color:"#0f172a"},title:"Upravi≈• profil",children:[se.photoURL?e.jsx("img",{src:se.photoURL,alt:se.displayName,style:{width:"24px",height:"24px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("span",{children:"üë§"}),e.jsx("span",{style:{fontSize:"14px"},children:se.displayName||l.email?.split("@")[0]||"Profil"})]}):e.jsx("button",{onClick:()=>Re(!0),style:{...c.button,width:"44px",height:"44px",padding:"0"},title:"Upravi≈• profil",children:"üë§"}),e.jsxs("button",{onClick:()=>Ke(!0),style:{...c.button,width:"44px",height:"44px",padding:"0",background:"#f0f9ff",position:"relative"},title:"Notifik√°cie",children:["üîî",Pe>0&&e.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:"2px solid "+(i?"#0f172a":"#f8fafc")},children:Pe>9?"9+":Pe})]}),e.jsx(Lt,{darkMode:i}),e.jsx(ei,{darkMode:i,isDesktop:y}),(Ct==="admin"||De)&&e.jsx("button",{onClick:()=>window.open("/admin_panel.html","_blank"),style:{...c.button,background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",color:"white",fontWeight:"600",border:"none",boxShadow:"0 2px 8px rgba(251, 191, 36, 0.3)"},title:"Admin Panel",children:y?"üëë Admin":"üëë"}),e.jsx("button",{onClick:()=>g(!i),style:{...c.button,width:"44px",height:"44px",padding:"0",background:"#eef2ff"},title:"Prepn√∫≈• tmav√Ω re≈æim",children:i?"‚òÄÔ∏è":"üåô"}),e.jsx("button",{onClick:It,style:{...c.button,border:"1px solid #fecaca",background:"#fee2e2",color:"#991b1b"},children:y?"Odhl√°si≈•":"üö™"})]})]}),e.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px",marginBottom:"16px",overflow:"hidden"},children:y?e.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold"},children:U(Fe)}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.value")})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:de>=0?"#10b981":"#ef4444"},children:[de>=0?"+":"",U(de)]}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.unrealized")})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:ce>=0?"#10b981":"#ef4444"},children:[ce>=0?"+":"",U(ce)]}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.realized")})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold"},children:Je}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.inCollection")})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"bold"},children:et}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.sold")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:()=>Pt(!Ue),style:{padding:"12px 16px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"bold"},children:U(Fe)}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.value")})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:de>=0?"#10b981":"#ef4444"},children:[de>=0?"+":"",U(de)]}),e.jsx("div",{style:{fontSize:"11px",opacity:.85},children:n("manager.stats.unrealized")})]})]}),e.jsx("span",{style:{fontSize:"16px",opacity:.8,transition:"transform 0.2s",transform:Ue?"rotate(180deg)":"rotate(0deg)"},children:"‚ñº"})]}),Ue&&e.jsxs("div",{style:{padding:"0 16px 12px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",textAlign:"center",borderTop:"1px solid rgba(255,255,255,0.2)",paddingTop:"12px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:ce>=0?"#10b981":"#ef4444"},children:[ce>=0?"+":"",U(ce)]}),e.jsx("div",{style:{fontSize:"11px",opacity:.85,marginTop:"4px"},children:n("manager.stats.realized")})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold"},children:Je}),e.jsx("div",{style:{fontSize:"11px",opacity:.85,marginTop:"4px"},children:n("manager.stats.inCollection")})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"bold"},children:et}),e.jsx("div",{style:{fontSize:"11px",opacity:.85,marginTop:"4px"},children:n("manager.stats.sold")})]})]})]})}),e.jsx("div",{style:{marginBottom:"16px"},children:y?e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"stretch"},children:[e.jsx("input",{type:"text",placeholder:n("manager.search"),value:x,onChange:t=>P(t.target.value),style:{...c.button,flex:5,minWidth:0,background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"16px"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:1,minWidth:0},children:[e.jsxs("select",{value:w,onChange:t=>fe(t.target.value),style:{...c.button,width:"100%",background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a",padding:"8px 12px",minHeight:"0",height:"auto"},children:[e.jsx("option",{value:"all",children:n("manager.filter.all")}),e.jsx("option",{value:"zbierka",children:n("manager.filter.collection")}),e.jsx("option",{value:"predan√°",children:n("manager.filter.sold")})]}),e.jsxs("select",{value:X,onChange:t=>Y(t.target.value),style:{...c.button,width:"100%",background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a",padding:"8px 12px",minHeight:"0",height:"auto"},children:[e.jsx("option",{value:"all",children:n("manager.filter.allPhotos")}),e.jsx("option",{value:"photo",children:n("manager.filter.withPhoto")})]})]}),e.jsx("button",{onClick:tt,style:{...c.button,...c.primaryButton,flex:1,minWidth:0},children:n("manager.add")}),e.jsx("div",{style:{display:"flex",gap:"4px",flex:1,minWidth:0,background:i?"#334155":"#f3f4f6",borderRadius:"12px",padding:"4px"},children:[{mode:"list",icon:"üìã",title:n("manager.view.list")},{mode:"cards",icon:"üèí",title:n("manager.view.tiles")},{mode:"gallery",icon:"üñºÔ∏è",title:n("manager.view.gallery")},{mode:"table",icon:"üìä",title:n("manager.view.table")}].map(({mode:t,icon:o,title:r})=>e.jsx("button",{onClick:()=>ue(t),title:r,style:{flex:1,minHeight:"44px",padding:"10px 2px",border:"none",borderRadius:"8px",background:V===t?"#667eea":"transparent",color:V===t?"white":i?"#f8fafc":"#64748b",cursor:"pointer",fontSize:"16px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},children:o},t))}),e.jsx("button",{onClick:()=>Oe(!G),style:{...c.button,flex:1,minWidth:0,background:G?"#667eea":i?"#334155":"#f3f4f6",color:G?"white":i?"#f8fafc":"#0f172a"},children:G?`üìâ ${n("manager.chart.hide")}`:`üìà ${n("manager.chart.show")}`}),e.jsx("div",{style:{flex:1,minWidth:0},children:e.jsx(lt,{onImportComplete:()=>{}})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px",alignItems:"stretch"},children:[e.jsx("input",{type:"text",placeholder:n("manager.search"),value:x,onChange:t=>P(t.target.value),style:{...c.button,flex:1,minWidth:0,background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"16px"}}),e.jsx("button",{onClick:tt,style:{...c.button,...c.primaryButton,flex:"0 0 auto",padding:"12px 16px"},children:"+"}),e.jsx("button",{onClick:()=>Wt(!ve),style:{...c.button,flex:"0 0 auto",background:ve?"#667eea":i?"#334155":"#f3f4f6",color:ve?"white":i?"#f8fafc":"#64748b",padding:"12px 14px"},children:"üîß"})]}),ve&&e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"stretch"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",flex:"1 1 calc(50% - 4px)"},children:[e.jsxs("select",{value:w,onChange:t=>fe(t.target.value),style:{...c.button,width:"100%",flex:1,background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a"},children:[e.jsx("option",{value:"all",children:n("manager.filter.all")}),e.jsx("option",{value:"zbierka",children:n("manager.filter.collection")}),e.jsx("option",{value:"predan√°",children:n("manager.filter.sold")})]}),e.jsxs("select",{value:X,onChange:t=>Y(t.target.value),style:{...c.button,width:"100%",flex:1,background:i?"#1e293b":"#fff",color:i?"#f8fafc":"#0f172a"},children:[e.jsx("option",{value:"all",children:n("manager.filter.allPhotos")}),e.jsx("option",{value:"photo",children:n("manager.filter.withPhoto")})]})]}),e.jsx("div",{style:{display:"flex",gap:"4px",flex:"1 1 calc(50% - 4px)",minWidth:0,flexWrap:"wrap",background:i?"#334155":"#f3f4f6",borderRadius:"12px",padding:"4px"},children:[{mode:"list",icon:"üìã",title:n("manager.view.list")},{mode:"cards",icon:"üèí",title:n("manager.view.tiles")},{mode:"gallery",icon:"üñºÔ∏è",title:n("manager.view.gallery")},{mode:"table",icon:"üìä",title:n("manager.view.table")}].map(({mode:t,icon:o,title:r})=>e.jsx("button",{onClick:()=>ue(t),title:r,style:{flex:1,minWidth:"44px",minHeight:"44px",padding:"10px 8px",border:"none",borderRadius:"8px",background:V===t?"#667eea":"transparent",color:V===t?"white":i?"#f8fafc":"#64748b",cursor:"pointer",fontSize:"18px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},children:o},t))}),e.jsx("button",{onClick:()=>Oe(!G),style:{...c.button,background:G?"#667eea":i?"#334155":"#f3f4f6",color:G?"white":i?"#f8fafc":"#0f172a",flex:"1 1 calc(50% - 4px)",minWidth:0},children:G?`üìâ ${n("manager.chart.hide")}`:`üìà ${n("manager.chart.show")}`}),e.jsx("div",{style:{flex:"1 1 calc(50% - 4px)",minWidth:0},children:e.jsx(lt,{onImportComplete:()=>{}})})]})]})}),G&&e.jsx("div",{style:{marginBottom:"16px"},children:e.jsx(Gt,{user:l,darkMode:i,isMockAuth:!1})}),u.size>0&&e.jsxs("div",{style:{marginBottom:"16px",padding:"12px",borderRadius:"12px",border:`1px solid ${i?"#334155":"#e2e8f0"}`,background:i?"#1e293b":"#fff",display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center"},children:[e.jsxs("div",{style:{fontWeight:"600"},children:[u.size,"√ó vybran√©"]}),e.jsx("button",{onClick:nt,style:{...c.button,minHeight:"36px",padding:"8px 10px",background:"#f1f5f9",border:"1px solid #cbd5e1",color:"#334155"},children:n("manager.bulk.selectAll")}),e.jsx("button",{onClick:()=>ot({isPublic:!0}),style:{...c.button,minHeight:"36px",padding:"8px 10px",background:"#dbeafe",border:"1px solid #93c5fd",color:"#1e3a8a"},children:n("manager.bulk.public")}),e.jsx("button",{onClick:()=>ot({isPublic:!1}),style:{...c.button,minHeight:"36px",padding:"8px 10px",background:"#e2e8f0",border:"1px solid #cbd5e1",color:"#334155"},children:n("manager.bulk.private")})]}),V==="cards"?e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:R.length===0?e.jsx("div",{style:{gridColumn:"1 / -1",padding:"40px",textAlign:"center",color:"#64748b"},children:W.length===0?`üìã ${n("manager.empty")}`:`üîç ${n("manager.noResults")}`}):R.map(t=>e.jsxs("div",{className:"card-item",style:{background:i?"#1e293b":"#fff",border:`1px solid ${i?"#334155":"#e2e8f0"}`,borderRadius:"12px",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("input",{type:"checkbox",checked:u.has(t.id),onChange:()=>Se(t.id),onClick:o=>o.stopPropagation(),style:{width:"18px",height:"18px"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["#",t.id?.slice?.(0,4)||""]})]}),t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:"foto",style:{width:"100%",height:"180px",objectFit:"contain",borderRadius:"8px",cursor:"pointer",background:i?"#0f172a":"#f8fafc"},onClick:o=>{o.stopPropagation(),je(t.imageUrl)}}),e.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:t.item}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"13px"},children:[t.buy!=null&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:n("manager.card.buy")}),e.jsx("div",{style:{fontWeight:"600"},children:U(t.buy)})]}),t.current!=null&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:n("manager.card.current")}),e.jsx("div",{style:{fontWeight:"600"},children:U(t.current)})]}),t.status==="predan√°"&&t.soldPrice!=null&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:n("manager.card.soldFor")}),e.jsx("div",{style:{fontWeight:"600"},children:U(t.soldPrice)})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:n("manager.card.quantity")}),e.jsx("div",{style:{fontWeight:"600"},children:t.quantity||1})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:n("manager.card.status")}),e.jsx("div",{style:{fontWeight:"600",padding:"4px 8px",borderRadius:"6px",display:"inline-block",background:t.status==="zbierka"?"#d1fae5":"#fee2e2",color:t.status==="zbierka"?"#065f46":"#991b1b"},children:t.status==="zbierka"?n("manager.filter.collection"):n("manager.filter.sold")})]})]}),t.note&&e.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontStyle:"italic"},children:t.note}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[e.jsx("button",{onClick:()=>ke(t),style:{...c.button,flex:"1",background:"#eef2ff",border:"1px solid #c7d2fe",color:"#1e3a8a"},children:n("manager.actions.edit")}),t.status==="zbierka"&&e.jsx("button",{onClick:()=>qe(t),style:{...c.button,flex:"1",background:"#d1fae5",border:"1px solid #6ee7b7",color:"#065f46"},children:n("manager.actions.sell")}),e.jsx("button",{onClick:()=>Ee(t),style:{...c.button,flex:"1",background:"#fee2e2",color:"#991b1b",border:"1px solid #fecaca"},children:n("manager.actions.delete")})]}),t.priceHistory&&t.priceHistory.length>0&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`},children:[e.jsx("button",{onClick:()=>St(he?.id===t.id?null:t),style:{...c.button,width:"100%",background:he?.id===t.id?"#667eea":i?"#334155":"#f3f4f6",color:he?.id===t.id?"white":i?"#f8fafc":"#0f172a",fontSize:"12px",padding:"8px"},children:he?.id===t.id?`üìâ ${n("manager.actions.hideChart")}`:`üìà ${n("manager.actions.showChart")}`}),he?.id===t.id&&e.jsx("div",{style:{marginTop:"12px"},children:e.jsx(dt,{priceHistory:t.priceHistory,darkMode:i})})]})]},t.id))}):V==="list"?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:R.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b",background:i?"#1e293b":"#fff",borderRadius:"12px",border:`1px solid ${i?"#334155":"#e2e8f0"}`},children:W.length===0?`üìã ${n("manager.empty")}`:`üîç ${n("manager.noResults")}`}):R.map((t,o)=>e.jsxs("div",{onClick:()=>ke(t),style:{background:i?"#1e293b":"#fff",border:`1px solid ${i?"#334155":"#e2e8f0"}`,borderRadius:"10px",padding:"12px 14px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",transition:"all 0.15s"},onMouseEnter:r=>{r.currentTarget.style.background=i?"#334155":"#f8fafc",r.currentTarget.style.borderColor=i?"#475569":"#cbd5e1"},onMouseLeave:r=>{r.currentTarget.style.background=i?"#1e293b":"#fff",r.currentTarget.style.borderColor=i?"#334155":"#e2e8f0"},children:[e.jsx("input",{type:"checkbox",checked:u.has(t.id),onChange:()=>Se(t.id),onClick:r=>r.stopPropagation(),style:{width:"16px",height:"16px"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#64748b",minWidth:"24px"},children:[o+1,"."]}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.item}),e.jsxs("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px",display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.buy!=null&&e.jsxs("span",{children:[n("manager.card.buy")," ",U(t.buy)]}),t.current!=null&&e.jsxs("span",{style:{fontWeight:"600",color:i?"#f8fafc":"#0f172a"},children:[n("manager.card.current")," ",U(t.current)]}),t.status==="predan√°"&&t.soldPrice!=null&&e.jsxs("span",{style:{color:"#10b981"},children:[n("manager.card.soldFor")," ",U(t.soldPrice)]}),e.jsxs("span",{children:[n("manager.card.quantity")," ",t.quantity||1]})]})]}),e.jsx("span",{style:{padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",background:t.status==="zbierka"?"#d1fae5":"#fee2e2",color:t.status==="zbierka"?"#065f46":"#991b1b",whiteSpace:"nowrap"},children:t.status==="zbierka"?n("manager.filter.collection"):n("manager.filter.sold")}),e.jsxs("div",{style:{display:"flex",gap:"6px"},onClick:r=>r.stopPropagation(),children:[t.status==="zbierka"&&e.jsx("button",{onClick:()=>qe(t),style:{...c.button,padding:"6px 10px",minHeight:"32px",fontSize:"12px",background:"#d1fae5",border:"1px solid #6ee7b7",color:"#065f46"},children:"üí∞"}),e.jsx("button",{onClick:()=>Ee(t),style:{...c.button,padding:"6px 10px",minHeight:"32px",fontSize:"12px",background:"#fee2e2",color:"#991b1b",border:"1px solid #fecaca"},children:"üóëÔ∏è"})]})]},t.id))}):V==="gallery"?e.jsx("div",{style:{display:"grid",gridTemplateColumns:y?"repeat(auto-fill, minmax(180px, 1fr))":"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:R.length===0?e.jsx("div",{style:{gridColumn:"1 / -1",padding:"40px",textAlign:"center",color:"#64748b",background:i?"#1e293b":"#fff",borderRadius:"12px",border:`1px solid ${i?"#334155":"#e2e8f0"}`},children:W.length===0?`üìã ${n("manager.empty")}`:`üîç ${n("manager.noResults")}`}):R.map(t=>e.jsxs("div",{style:{background:i?"#1e293b":"#fff",border:`1px solid ${i?"#334155":"#e2e8f0"}`,borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"all 0.2s",position:"relative"},onClick:()=>ke(t),onMouseEnter:o=>{o.currentTarget.style.borderColor="#667eea",o.currentTarget.style.transform="scale(1.02)"},onMouseLeave:o=>{o.currentTarget.style.borderColor=i?"#334155":"#e2e8f0",o.currentTarget.style.transform="scale(1)"},children:[e.jsx("input",{type:"checkbox",checked:u.has(t.id),onChange:()=>Se(t.id),onClick:o=>o.stopPropagation(),style:{position:"absolute",top:"10px",left:"10px",width:"18px",height:"18px",zIndex:3}}),t.imageUrl?e.jsx("div",{style:{position:"relative",paddingTop:"100%",background:i?"#0f172a":"#f8fafc"},children:e.jsx("img",{src:t.imageUrl,alt:t.item,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"}})}):e.jsx("div",{style:{paddingTop:"100%",background:i?"#334155":"#f1f5f9",position:"relative"},children:e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"32px",opacity:.3},children:"üèí"})}),e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"4px"},children:t.item}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"13px",fontWeight:"700",color:i?"#10b981":"#059669"},children:t.current!=null?`${j((t.current||0)*(t.quantity||1),N)}`:"‚Äî"}),e.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"9px",fontWeight:"600",background:t.status==="zbierka"?"#d1fae5":"#fee2e2",color:t.status==="zbierka"?"#065f46":"#991b1b"},children:t.status==="zbierka"?n("manager.filter.collection"):n("manager.filter.sold")})]})]})]},t.id))}):e.jsxs("div",{style:{position:"relative"},children:[!y&&e.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"40px",background:`linear-gradient(to right, transparent, ${i?"rgba(30, 41, 59, 0.9)":"rgba(255, 255, 255, 0.9)"})`,pointerEvents:"none",zIndex:5,borderRadius:"0 12px 12px 0",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{fontSize:"16px",opacity:.6},children:"‚Üí"})}),e.jsx("div",{style:{overflow:"auto",maxHeight:"67vh",borderRadius:"12px",border:`1px solid ${i?"#334155":"#e2e8f0"}`,background:i?"#1e293b":"#fff"},children:e.jsxs("table",{style:{width:"100%",minWidth:y?"auto":"800px",borderCollapse:"collapse",fontSize:"14px",background:i?"#1e293b":"#fff"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:i?"#334155":"#f8fafc"},children:[e.jsx("th",{style:{padding:"10px 12px",textAlign:"left",position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:e.jsx("input",{type:"checkbox",checked:u.size>0&&u.size===R.length,onChange:nt,style:{width:"16px",height:"16px"}})}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"left",position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:n("manager.table.photo")}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"left",position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:e.jsxs("button",{onClick:()=>we("item"),style:{background:"transparent",border:"none",padding:0,cursor:"pointer",color:i?"#f8fafc":"#0f172a",fontWeight:600},children:[n("manager.table.item"),F==="item"?M==="asc"?" ‚ñ≤":" ‚ñº":""]})}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:e.jsxs("button",{onClick:()=>we("buy"),style:{background:"transparent",border:"none",padding:0,cursor:"pointer",color:i?"#f8fafc":"#0f172a",fontWeight:600,width:"100%"},children:[n("manager.table.buyPrice")," (",m,")",F==="buy"?M==="asc"?" ‚ñ≤":" ‚ñº":""]})}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:e.jsxs("button",{onClick:()=>we("current"),style:{background:"transparent",border:"none",padding:0,cursor:"pointer",color:i?"#f8fafc":"#0f172a",fontWeight:600,width:"100%"},children:[n("manager.table.currentPrice")," (",m,")",F==="current"?M==="asc"?" ‚ñ≤":" ‚ñº":""]})}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:e.jsxs("button",{onClick:()=>we("sold"),style:{background:"transparent",border:"none",padding:0,cursor:"pointer",color:i?"#f8fafc":"#0f172a",fontWeight:600,width:"100%"},children:[n("manager.table.soldPrice")," (",m,")",F==="sold"?M==="asc"?" ‚ñ≤":" ‚ñº":""]})}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:n("manager.table.quantity")}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:n("manager.table.status")}),e.jsx("th",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A,position:"sticky",top:0,background:i?"#334155":"#f8fafc",zIndex:10},children:n("manager.table.actions")})]})}),e.jsx("tbody",{children:R.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",style:{padding:"40px",textAlign:"center",color:"#64748b"},children:W.length===0?`üìã ${n("manager.empty")}`:`üîç ${n("manager.noResults")}`})}):R.map((t,o)=>e.jsxs("tr",{onClick:()=>ke(t),style:{borderBottom:`1px solid ${i?"#334155":"#f1f5f9"}`,cursor:"pointer",transition:"background 0.15s"},onMouseEnter:r=>r.currentTarget.style.background=i?"#334155":"#f8fafc",onMouseLeave:r=>r.currentTarget.style.background="transparent",children:[e.jsx("td",{style:{padding:"10px 12px"},children:e.jsx("input",{type:"checkbox",checked:u.has(t.id),onChange:()=>Se(t.id),onClick:r=>r.stopPropagation(),style:{width:"16px",height:"16px"}})}),e.jsx("td",{style:{padding:"10px 12px"},children:t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:"foto",style:{width:"56px",height:"56px",objectFit:"contain",borderRadius:"10px",border:"1px solid #e5e7eb",background:i?"#0f172a":"#f8fafc"},onClick:r=>{r.stopPropagation(),je(t.imageUrl)}}):e.jsx("span",{style:{color:"#64748b"},children:"‚Äî"})}),e.jsx("td",{style:{padding:"10px 12px"},children:t.item}),e.jsx("td",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A},children:t.buy!=null?U(t.buy):""}),e.jsx("td",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A},children:t.current!=null?e.jsxs("span",{children:[U(t.current),t.ebayPriceSource&&e.jsx("span",{style:{marginLeft:"6px",fontSize:"14px"},title:"Cena z eBay",children:"üìä"})]}):""}),e.jsx("td",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A},children:t.status==="predan√°"&&t.soldPrice!=null?U(t.soldPrice):""}),e.jsx("td",{style:{padding:"10px 12px",textAlign:"center",width:A,minWidth:A},children:t.quantity||1}),e.jsx("td",{style:{padding:"10px 12px",width:A,minWidth:A,textAlign:"center"},children:e.jsx("span",{style:{padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",background:t.status==="zbierka"?"#d1fae5":"#fee2e2",color:t.status==="zbierka"?"#065f46":"#991b1b"},children:t.status==="zbierka"?n("manager.filter.collection"):n("manager.filter.sold")})}),e.jsxs("td",{style:{padding:"10px 12px",whiteSpace:"nowrap",width:A,minWidth:A,textAlign:"center"},onClick:r=>r.stopPropagation(),children:[t.status==="zbierka"&&e.jsx("button",{onClick:()=>qe(t),style:{...c.button,background:"#d1fae5",border:"1px solid #6ee7b7",color:"#065f46",marginRight:"5px",padding:"8px 12px",minHeight:"36px"},children:"üí∞"}),e.jsx("button",{onClick:()=>Ee(t),style:{...c.button,background:"#fee2e2",color:"#991b1b",border:"1px solid #fecaca",padding:"8px 12px",minHeight:"36px"},children:"üóëÔ∏è"})]})]},t.id))})]})})]}),K&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:y?"20px":"12px"},onClick:()=>L(!1),children:e.jsxs("div",{className:"modal-content",style:{background:i?"#1e293b":"white",color:i?"#f8fafc":"#0f172a",borderRadius:"16px",width:"100%",maxWidth:y?"680px":"100%",maxHeight:y?"none":"calc(100vh - 24px)",overflowY:y?"visible":"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.4)"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{padding:y?"16px 24px":"14px 16px",borderBottom:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("strong",{style:{fontSize:"18px"},children:n(v?"manager.modal.edit":"manager.modal.add")}),e.jsx("button",{onClick:()=>L(!1),style:{background:i?"#334155":"#f1f5f9",border:"none",borderRadius:"8px",cursor:"pointer",color:i?"#94a3b8":"#64748b",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:"‚úï"})]}),e.jsxs("form",{onSubmit:At,children:[e.jsxs("div",{style:{padding:y?"20px 24px":"16px",display:"flex",flexDirection:y?"row":"column",gap:y?"20px":"16px"},children:[e.jsx("div",{style:{flex:y?"0 0 160px":"none"},children:a.imageUrl||a.imageFile?e.jsxs("div",{style:{position:"relative"},children:[e.jsx("img",{src:a.imageFile?URL.createObjectURL(a.imageFile):a.imageUrl,alt:"Preview",style:{width:y?"160px":"100%",height:y?"160px":"180px",objectFit:"contain",borderRadius:"12px",border:`1px solid ${i?"#334155":"#e2e8f0"}`,background:i?"#0f172a":"#f8fafc"}}),e.jsxs("label",{style:{position:"absolute",bottom:"8px",right:"8px",background:i?"#334155":"white",borderRadius:"8px",padding:"6px 10px",cursor:"pointer",fontSize:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:["üì∑ ",n("manager.modal.changePhoto"),e.jsx("input",{type:"file",accept:"image/*",onChange:it,style:{display:"none"}})]})]}):e.jsxs("label",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:y?"160px":"100%",height:y?"160px":"100px",border:`2px dashed ${i?"#334155":"#cbd5e1"}`,borderRadius:"12px",cursor:"pointer",background:i?"#0f172a":"#f8fafc",transition:"all 0.2s"},children:[e.jsx("span",{style:{fontSize:"28px",opacity:.5},children:"üì∑"}),e.jsx("span",{style:{fontSize:"12px",color:"#64748b",marginTop:"4px"},children:n("manager.modal.addPhoto")}),e.jsx("input",{type:"file",accept:"image/*",onChange:it,style:{display:"none"}})]})}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"14px",minWidth:0},children:[e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:[n("manager.modal.item")," *"]}),e.jsx("input",{type:"text",value:a.item,onChange:t=>O({...a,item:t.target.value}),placeholder:"napr. 2005 Upper Deck Young Guns #201 Crosby PSA 10",required:!0,style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:y?"1fr 1fr":"1fr",gap:"14px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:n("manager.modal.status")}),e.jsxs("select",{value:a.status,onChange:t=>O({...a,status:t.target.value}),style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"},children:[e.jsx("option",{value:"zbierka",children:n("manager.filter.collection")}),e.jsx("option",{value:"predan√°",children:n("manager.filter.sold")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:[n("manager.modal.buyPrice")," (",m,")"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.buy,onChange:t=>O({...a,buy:t.target.value}),placeholder:m,style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:a.status==="predan√°"&&y?"1fr 1fr":"1fr",gap:"14px"},children:[e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:[n("manager.modal.currentPrice")," (",m,")",v&&v.ebayPriceSource&&e.jsx("span",{style:{marginLeft:"6px",color:"#10b981"},children:"üìä"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.current,onChange:t=>O({...a,current:t.target.value}),disabled:v&&a.autoUpdate,placeholder:m,style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?v&&a.autoUpdate?"#1e293b":"#334155":v&&a.autoUpdate?"#f1f5f9":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px",opacity:v&&a.autoUpdate?.6:1}})]}),a.status==="predan√°"&&e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"12px",fontWeight:"600",color:"#10b981",display:"block",marginBottom:"6px"},children:[n("manager.modal.soldPrice")," (",m,")"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.soldPrice,onChange:t=>O({...a,soldPrice:t.target.value}),placeholder:a.current||m,style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px",borderColor:"#10b981"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:a.autoUpdate&&y?"1fr 1fr":"1fr",gap:"14px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"6px 0"},children:[e.jsx("input",{type:"checkbox",checked:!!a.autoUpdate,onChange:t=>O({...a,autoUpdate:t.target.checked}),style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:i?"#f8fafc":"#0f172a"},children:n("manager.modal.autoUpdate")}),e.jsx("div",{style:{fontSize:"11px",color:a.autoUpdate?"#10b981":i?"#94a3b8":"#64748b"},children:a.autoUpdate?n("manager.modal.autoUpdateOn"):n("manager.modal.autoUpdateOff")})]})]}),a.autoUpdate&&e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:n("manager.modal.ebayCategory")}),e.jsxs("select",{value:a.ebayCategory,onChange:t=>O({...a,ebayCategory:t.target.value}),style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Hockey Cards"}),e.jsx("option",{value:"213",children:"Baseball Cards"}),e.jsx("option",{value:"214",children:"Basketball Cards"}),e.jsx("option",{value:"215",children:"Football Cards"}),e.jsx("option",{value:"218",children:"Soccer Cards"}),e.jsx("option",{value:"183454",children:"Pokemon Cards"}),e.jsx("option",{value:"183050",children:"Other Trading Cards"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:y?"1fr 1fr":"1fr",gap:"14px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:n("manager.modal.quantity")}),e.jsx("input",{type:"number",step:"1",min:"1",value:a.quantity,onChange:t=>O({...a,quantity:t.target.value}),placeholder:"1",style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"6px 0"},children:[e.jsx("input",{type:"checkbox",checked:!!a.isPublic,onChange:t=>O({...a,isPublic:t.target.checked}),style:{width:"18px",height:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:i?"#f8fafc":"#0f172a"},children:n("manager.modal.public")}),e.jsx("div",{style:{fontSize:"11px",color:i?"#94a3b8":"#64748b"},children:n("manager.modal.publicHint")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:i?"#94a3b8":"#64748b",display:"block",marginBottom:"6px"},children:n("manager.modal.note")}),e.jsx("input",{type:"text",value:a.note,onChange:t=>O({...a,note:t.target.value}),placeholder:n("manager.modal.notePlaceholder"),style:{...c.button,width:"100%",boxSizing:"border-box",padding:"12px 14px",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"14px"}})]})]})]}),v&&v.priceHistory&&v.priceHistory.length>0&&e.jsx("div",{style:{padding:"0 24px 16px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`,marginTop:"0",paddingTop:"16px"},children:e.jsx(dt,{priceHistory:v.priceHistory,darkMode:i,compact:!0})}),e.jsxs("div",{style:{padding:y?"14px 24px":"12px 16px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",gap:"12px",justifyContent:"flex-end",background:i?"#0f172a":"#f8fafc",borderRadius:"0 0 16px 16px"},children:[e.jsx("button",{type:"button",onClick:()=>L(!1),style:{...c.button,padding:"12px 24px",background:i?"#334155":"#f1f5f9",color:i?"#f8fafc":"#334155",border:`1px solid ${i?"#475569":"#cbd5e1"}`},children:n("manager.modal.cancel")}),e.jsx("button",{type:"submit",style:{...c.button,...c.primaryButton,padding:"12px 28px"},children:n("manager.modal.save")})]})]})]})}),vt&&e.jsx(Xt,{user:l,darkMode:i,isMockAuth:!1,mockNotifications:H,onClose:()=>Ke(!1)}),Ye&&e.jsx(Jt,{user:{...l,displayName:se.displayName,photoURL:se.photoURL},isOpen:Ye,isMockAuth:!1,onClose:()=>Re(!1),onUpdate:t=>{Xe(t)}}),wt&&D&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:()=>ge(!1),children:e.jsxs("div",{style:{background:i?"#1e293b":"white",color:i?"#f8fafc":"#0f172a",borderRadius:"16px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{padding:"20px",borderBottom:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:n("manager.sell.title")}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"13px",color:"#64748b"},children:n("manager.sell.subtitle")})]}),e.jsx("button",{onClick:()=>ge(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:i?"#94a3b8":"#64748b",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:"‚úï"})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{background:i?"#334155":"#f8fafc",borderRadius:"12px",padding:"16px",marginBottom:"20px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:D.item}),e.jsxs("div",{style:{fontSize:"13px",color:"#64748b"},children:[n("manager.sell.buyPrice")," ",U(D.buy||0)]}),D.current&&e.jsxs("div",{style:{fontSize:"13px",color:"#64748b"},children:[n("manager.sell.currentValue")," ",U(D.current)]})]}),e.jsxs("label",{style:{fontSize:"14px",fontWeight:"500",color:i?"#cbd5e1":"#475569",display:"block",marginBottom:"8px"},children:[n("manager.sell.priceLabel")," (",m,")"]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:re,onChange:t=>Ie(t.target.value),placeholder:n("manager.sell.pricePlaceholder"),autoFocus:!0,style:{...c.button,width:"100%",boxSizing:"border-box",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"18px",fontWeight:"600",textAlign:"center",padding:"16px"}}),e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsxs("label",{style:{fontSize:"13px",fontWeight:"500",color:i?"#cbd5e1":"#475569",display:"block",marginBottom:"6px"},children:[n("manager.sell.quantityLabel")," (",n("manager.sell.quantityHint")," ",D.quantity||1,")"]}),e.jsx("input",{type:"number",step:"1",min:"1",max:D.quantity||1,value:Ae,onChange:t=>Te(t.target.value),style:{...c.button,width:"100%",boxSizing:"border-box",background:i?"#334155":"#fff",color:i?"#f8fafc":"#0f172a",fontSize:"16px",fontWeight:"600",textAlign:"center",padding:"12px"}})]}),re&&D.buy!=null&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",background:pe>=oe?"#d1fae5":"#fee2e2",color:pe>=oe?"#065f46":"#991b1b",fontSize:"14px",fontWeight:"600",textAlign:"center"},children:[pe>=oe?"üìà":"üìâ"," ",n("manager.sell.profitLoss")," ",U(z($t)),e.jsxs("span",{style:{fontWeight:"400",marginLeft:"8px"},children:["(",Bt,"%)"]})]}),re&&e.jsxs("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"13px",color:i?"#94a3b8":"#64748b"},children:[n("manager.sell.totalLabel"),": ",U(z(pe*at))]})]}),e.jsxs("div",{style:{padding:"16px 20px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:()=>ge(!1),style:{...c.button,flex:1,background:i?"#334155":"#f1f5f9",color:i?"#f8fafc":"#475569"},children:n("manager.modal.cancel")}),e.jsx("button",{onClick:Dt,style:{...c.button,flex:1,background:"#10b981",color:"white",border:"1px solid #10b981",fontWeight:"600"},children:n("manager.sell.confirm")})]})]})}),zt&&te&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},onClick:()=>be(!1),children:e.jsxs("div",{style:{background:i?"#1e293b":"white",color:i?"#f8fafc":"#0f172a",borderRadius:"16px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{padding:"20px",borderBottom:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ef4444"},children:n("manager.delete.title")}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"13px",color:"#64748b"},children:n("manager.delete.subtitle")})]}),e.jsx("button",{onClick:()=>be(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:i?"#94a3b8":"#64748b",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:"‚úï"})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{background:i?"#334155":"#fef2f2",borderRadius:"12px",padding:"16px",border:`1px solid ${i?"#475569":"#fecaca"}`},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:te.item}),e.jsxs("div",{style:{fontSize:"13px",color:"#64748b",display:"flex",gap:"16px",flexWrap:"wrap"},children:[te.buy!=null&&e.jsxs("span",{children:[n("manager.card.buy")," ",U(te.buy)]}),te.current!=null&&e.jsxs("span",{children:[n("manager.card.current")," ",U(te.current)]})]})]}),e.jsx("p",{style:{margin:"16px 0 0 0",fontSize:"14px",color:i?"#94a3b8":"#64748b",textAlign:"center"},children:n("manager.delete.warning")})]}),e.jsxs("div",{style:{padding:"16px 20px",borderTop:`1px solid ${i?"#334155":"#e2e8f0"}`,display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:()=>be(!1),style:{...c.button,flex:1,background:i?"#334155":"#f1f5f9",color:i?"#f8fafc":"#475569"},children:n("manager.modal.cancel")}),e.jsx("button",{onClick:Tt,style:{...c.button,flex:1,background:"#ef4444",color:"white",border:"1px solid #ef4444",fontWeight:"600"},children:n("manager.delete.confirm")})]})]})}),_e&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},onClick:()=>je(null),children:[e.jsx("button",{onClick:()=>je(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"48px",height:"48px",fontSize:"24px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"‚úï"}),e.jsx("img",{src:_e,alt:"Zv√§ƒç≈°en√Ω obr√°zok",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",borderRadius:"8px"},onClick:t=>t.stopPropagation()})]})]})}export{si as default};
